<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AIê°€ ë¶„ì„í•´ì£¼ëŠ” ì£¼ì‹ ë‰´ìŠ¤, ì‹¤ì‹œê°„ ì‹œì„¸, ë¬¼íƒ€ê¸° ê³„ì‚°ê¸°ê¹Œì§€. ì§ì¥ì¸ì„ ìœ„í•œ ì£¼ì‹ ëŒ€ì‹œë³´ë“œ AntDash">
    <meta property="og:title" content="AntDash - AI ì£¼ì‹ ë¹„ì„œ">
    <meta property="og:description" content="ë‚´ ì¢…ëª© ë‰´ìŠ¤ ë¶„ì„ë¶€í„° ìˆ˜ìµë¥  ê³„ì‚°ê¹Œì§€ í•œ ë²ˆì— í™•ì¸í•˜ì„¸ìš”.">
    <title>AntDash | AI ì£¼ì‹ ëŒ€ì‹œë³´ë“œ</title>
    <style>
        /* ğŸ¨ í…Œë§ˆ ë³€ìˆ˜ ì„¤ì • (ë¼ì´íŠ¸/ë‹¤í¬) */
        :root {
            --bg: #f4f7fa; --card: #ffffff; --primary: #2962ff; --text: #1e293b; 
            --sub-text: #64748b; --border: #e2e8f0; --input-bg: #ffffff;
            --red: #f44336; --blue: #2196f3; --hover: #f1f5f9;
        }
        
        [data-theme="dark"] {
            --bg: #0f172a; --card: #1e293b; --primary: #3b82f6; --text: #f1f5f9; 
            --sub-text: #94a3b8; --border: #334155; --input-bg: #020617;
            --red: #ff5252; --blue: #448aff; --hover: #334155;
        }

        body { font-family: 'Pretendard', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding: 0; transition: background 0.3s, color 0.3s; }
        
        header { background: #0f172a; color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .header-left { display: flex; align-items: center; gap: 15px; }
        .theme-btn { background: none; border: none; font-size: 1.2rem; cursor: pointer; padding: 5px; border-radius: 50%; transition: 0.2s; }
        .theme-btn:hover { background: rgba(255,255,255,0.1); }

        .container { display: grid; grid-template-columns: 280px 1fr 320px; gap: 24px; padding: 24px; max-width: 1500px; margin: auto; }
        
        .card { background: var(--card); border-radius: 16px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); margin-bottom: 24px; border: 1px solid var(--border); transition: background 0.3s; }
        h3 { margin-top: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px; margin-bottom: 20px; color: var(--text); }
        
        /* ë‰´ìŠ¤ ìŠ¤íƒ€ì¼ */
        .news-item { margin-bottom: 16px; padding: 20px; border-radius: 12px; border: 1px solid var(--border); cursor: pointer; transition: all 0.2s; position: relative; overflow: hidden; background: var(--card); }
        .news-item:hover { transform: translateY(-2px); border-color: var(--primary); box-shadow: 0 8px 24px rgba(0,0,0,0.1); }
        .sentiment-bar { height: 4px; width: 100%; position: absolute; top: 0; left: 0; background: var(--border); }
        .sentiment-fill { height: 100%; }
        .news-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; margin-top: 5px; }
        .badge { font-size: 0.75rem; padding: 4px 10px; border-radius: 6px; font-weight: 700; color: white; }
        
        /* ë¶„ì„ ë¦¬í¬íŠ¸ */
        .ai-reason { 
            display: none; margin-top: 15px; padding: 15px; background: var(--hover); 
            border-radius: 8px; font-size: 0.95rem; color: var(--text); 
            border-left: 3px solid var(--primary); line-height: 1.6; animation: slideDown 0.3s ease-out; 
        }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        
        .view-more-btn { display: inline-block; margin-top: 10px; padding: 8px 16px; background: var(--border); color: var(--text); text-decoration: none; border-radius: 6px; font-size: 0.85rem; font-weight: bold; transition: 0.2s; }
        .view-more-btn:hover { opacity: 0.8; }
        .click-hint { font-size: 0.8rem; color: var(--sub-text); margin-top: 10px; text-align: right; display: flex; justify-content: flex-end; align-items: center; gap: 4px; }

        /* ê³µí†µ UI ìš”ì†Œ */
        .index-item, .stock-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; padding: 12px; background: var(--hover); border-radius: 10px; font-size: 0.95rem; color: var(--text); transition: background 0.3s; }
        .stock-item { border: 1px solid var(--border); }
        .up { color: var(--red); font-weight: bold; }
        .down { color: var(--blue); font-weight: bold; }
        .btn-del { font-size: 0.9rem; color: var(--sub-text); cursor: pointer; margin-left: 10px; padding: 5px; }
        .btn-del:hover { color: var(--red); font-weight: bold; }
        
        .input-group { margin-bottom: 15px; }
        input { width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 8px; box-sizing: border-box; font-size: 0.95rem; background: var(--input-bg); color: var(--text); }
        .btn-primary { width: 100%; padding: 12px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .btn-sm { width: auto; padding: 8px 12px; font-size: 0.9rem; margin-top: 5px; }

        .tabs { display: flex; border-bottom: 2px solid var(--border); margin-bottom: 20px; }
        .tab { flex: 1; text-align: center; padding: 10px; cursor: pointer; font-weight: bold; color: var(--sub-text); transition: 0.2s; }
        .tab.active { color: var(--primary); border-bottom: 2px solid var(--primary); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        .percent-btns { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; margin-bottom: 10px; }
        .btn-p { padding: 8px; border: 1px solid var(--border); background: var(--input-bg); border-radius: 6px; cursor: pointer; font-size: 0.8rem; font-weight: bold; color: var(--sub-text); }
        .btn-p:hover { background: var(--hover); }
        .btn-p.plus { color: var(--red); }
        .btn-p.minus { color: var(--blue); }

        @media (max-width: 1100px) { .container { grid-template-columns: 1fr; } .container aside, .container section { display: none; } }
    </style>
</head>
<body>
<header>
    <div class="header-left">
        <div style="font-size: 1.5rem; font-weight: 900;">ğŸœ AntDash <span style="font-size: 0.9rem; opacity: 0.7;">Pro</span></div>
    </div>
    <div style="display: flex; align-items: center; gap: 15px;">
        <div id="realtime-clock" style="font-family: monospace;">--:--:--</div>
        <button class="theme-btn" onclick="toggleTheme()" title="ë‹¤í¬ ëª¨ë“œ ì „í™˜">ğŸŒ™</button>
    </div>
</header>

<div class="container">
    <aside>
        <div class="card">
            <h3>ğŸ“Š ì£¼ìš” ì§€ìˆ˜</h3>
            <div id="indices-list"><div style="text-align:center; color:var(--sub-text);">ë¡œë”©ì¤‘...</div></div>
        </div>
        <div class="card">
            <h3>â­ ê´€ì‹¬ ì¢…ëª© (Watchlist)</h3>
            <div id="watchlist-container"></div>
            <div style="margin-top: 15px; display: flex; gap: 5px;">
                <input type="text" id="new-stock-code" placeholder="ì¢…ëª©ëª…/ì½”ë“œ (ì˜ˆ: ì‚¼ì„±ì „ì)">
                <button class="btn-primary btn-sm" onclick="addStock()">ì¶”ê°€</button>
            </div>
            <p style="font-size: 0.75rem; color: var(--sub-text); margin-top: 5px; line-height: 1.4;">
                * í•œê¸€ ê²€ìƒ‰ ê°€ëŠ¥ (ì‚¼ì„±ì „ì, ì¹´ì¹´ì˜¤ ë“±)<br>
                * ì½”ë“œ ì…ë ¥: 005930.KS
            </p>
        </div>
    </aside>
    <main>
        <div class="card">
            <h3>ğŸ—ï¸ AI ë‰´ìŠ¤ ê°ì„± ë¶„ì„ <span style="font-size:0.8rem; color:var(--sub-text); font-weight:normal; margin-left:10px;">(í´ë¦­í•˜ì—¬ ë¶„ì„ ë³´ê¸°)</span></h3>
            <div id="news-list">
                <p style="text-align:center; padding: 20px; color: var(--sub-text);">
                    ğŸ¤– AIê°€ ë‰´ìŠ¤ë¥¼ ì½ê³  ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...
                </p>
            </div>
        </div>
    </main>
    <section>
        <div class="card">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('water')">ğŸ’§ ë¬¼íƒ€ê¸°</div>
                <div class="tab" onclick="switchTab('happy')">ğŸ¢ í–‰ë³µíšŒë¡œ</div>
            </div>

            <div id="tab-water" class="tab-content active">
                <div class="input-group">
                    <input type="number" id="p1" placeholder="ë³´ìœ  í‰ë‹¨ê°€">
                    <input type="number" id="q1" placeholder="ë³´ìœ  ìˆ˜ëŸ‰" style="margin-top:5px;">
                </div>
                <div class="input-group">
                    <input type="number" id="p2" placeholder="ì¶”ê°€ ë§¤ìˆ˜ í‰ë‹¨ê°€">
                    <input type="number" id="q2" placeholder="ì¶”ê°€ ë§¤ìˆ˜ ìˆ˜ëŸ‰" style="margin-top:5px;">
                </div>
                <button class="btn-primary" onclick="calculateWater()">ë¬¼íƒ€ê¸° ê³„ì‚°</button>
                <div id="res-water" style="margin-top: 15px; padding: 15px; background: var(--hover); border-radius: 8px; display: none;">
                    <div>ì˜ˆìƒ í‰ë‹¨: <strong id="val-water-price" style="color:var(--primary); font-size:1.1rem;">0</strong>ì›</div>
                    <div style="font-size:0.9rem; margin-top:5px;">ì´ ìˆ˜ëŸ‰: <span id="val-water-qty">0</span>ì£¼</div>
                </div>
            </div>

            <div id="tab-happy" class="tab-content">
                <div class="input-group">
                    <input type="number" id="h-price" placeholder="ë‚´ í‰ë‹¨ê°€ (ë§¤ìˆ˜ê°€)">
                    <input type="number" id="h-qty" placeholder="ë³´ìœ  ìˆ˜ëŸ‰" style="margin-top:5px;">
                </div>
                
                <div style="font-size:0.8rem; color:var(--sub-text); margin-bottom:5px; font-weight:bold;">ë¹ ë¥¸ ëª©í‘œ ì„¤ì •</div>
                <div class="percent-btns">
                    <button class="btn-p plus" onclick="setTargetPercent(5)">+5%</button>
                    <button class="btn-p plus" onclick="setTargetPercent(10)">+10%</button>
                    <button class="btn-p plus" onclick="setTargetPercent(30)">ìƒí•œê°€</button>
                    <button class="btn-p minus" onclick="setTargetPercent(-5)">-5%</button>
                    <button class="btn-p minus" onclick="setTargetPercent(-10)">-10%</button>
                    <button class="btn-p minus" onclick="setTargetPercent(-30)">í•˜í•œê°€</button>
                </div>

                <div class="input-group">
                    <input type="number" id="h-target" placeholder="ëª©í‘œ ë§¤ë„ê°€ (ì§ì ‘ ì…ë ¥)">
                </div>

                <button class="btn-primary" onclick="calculateHappy()">ìˆ˜ìµê¸ˆ ê³„ì‚°</button>
                
                <div id="res-happy" style="margin-top: 15px; padding: 15px; background: var(--hover); border-radius: 8px; display: none;">
                    <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                        <span>ìˆ˜ìµë¥ </span>
                        <strong id="val-happy-percent">0%</strong>
                    </div>
                    <div style="display:flex; justify-content:space-between;">
                        <span>ì˜ˆìƒ ì†ìµ</span>
                        <strong id="val-happy-won" style="font-size:1.1rem;">0ì›</strong>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
    // [ë‹¤í¬ ëª¨ë“œ ë¡œì§]
    function toggleTheme() {
        const body = document.body;
        const btn = document.querySelector('.theme-btn');
        const current = body.getAttribute('data-theme');
        
        if (current === 'dark') {
            body.setAttribute('data-theme', 'light');
            localStorage.setItem('theme', 'light');
            btn.innerText = 'ğŸŒ™';
        } else {
            body.setAttribute('data-theme', 'dark');
            localStorage.setItem('theme', 'dark');
            btn.innerText = 'â˜€ï¸';
        }
    }
    
    // ì´ˆê¸° í…Œë§ˆ ì„¤ì • (ì €ì¥ëœ ê°’ ë¶ˆëŸ¬ì˜¤ê¸°)
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
        document.body.setAttribute('data-theme', 'dark');
        document.querySelector('.theme-btn').innerText = 'â˜€ï¸';
    }

    setInterval(() => document.getElementById('realtime-clock').innerText = new Date().toLocaleString(), 1000);

    const STOCK_MAP = {
        'ì‚¼ì„±ì „ì': '005930.KS', 'SKí•˜ì´ë‹‰ìŠ¤': '000660.KS', 'LGì—ë„ˆì§€ì†”ë£¨ì…˜': '373220.KS',
        'ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤': '207940.KS', 'í˜„ëŒ€ì°¨': '005380.KS', 'ê¸°ì•„': '000270.KS',
        'ì…€íŠ¸ë¦¬ì˜¨': '068270.KS', 'POSCOí™€ë”©ìŠ¤': '005490.KS', 'NAVER': '035420.KS',
        'ì¹´ì¹´ì˜¤': '035720.KS', 'ì—ì½”í”„ë¡œë¹„ì— ': '247540.KQ', 'ì—ì½”í”„ë¡œ': '086520.KQ',
        'HLB': '028300.KQ', 'ì—˜ì•¤ì—í”„': '066970.KQ', 'ì•Œí…Œì˜¤ì  ': '196170.KQ',
        'í…ŒìŠ¬ë¼': 'TSLA', 'ì• í”Œ': 'AAPL', 'ì—”ë¹„ë””ì•„': 'NVDA', 'ë§ˆì´í¬ë¡œì†Œí”„íŠ¸': 'MSFT',
        'êµ¬ê¸€': 'GOOGL', 'ì•„ë§ˆì¡´': 'AMZN', 'SOXL': 'SOXL', 'TQQQ': 'TQQQ'
    };

    async function fetchIndices() {
        try {
            const res = await fetch('/api/indices');
            const data = await res.json();
            const list = document.getElementById('indices-list');
            const items = [
                { name: 'ì½”ìŠ¤í”¼', ...data.kospi }, { name: 'ì½”ìŠ¤ë‹¥', ...data.kosdaq },
                { name: 'ë‚˜ìŠ¤ë‹¥', ...data.nasdaq }, { name: 'í™˜ìœ¨', ...data.exchange }
            ];
            list.innerHTML = items.map(item => `
                <div class="index-item">
                    <span>${item.name}</span>
                    <span class="${item.isUp ? 'up' : 'down'}">${item.price} ${item.isUp ? 'â–²' : 'â–¼'} (${item.percent}%)</span>
                </div>
            `).join('');
        } catch(e) { console.error(e); }
    }

    let myStocks = JSON.parse(localStorage.getItem('myStocks')) || ['005930.KS', '000660.KS'];

    async function fetchWatchlist() {
        const container = document.getElementById('watchlist-container');
        if(myStocks.length === 0) { container.innerHTML = "<div style='font-size:0.8rem; text-align:center; color:var(--sub-text);'>ì¢…ëª©ì„ ì¶”ê°€í•´ë³´ì„¸ìš”</div>"; return; }
        container.innerHTML = "<div style='font-size:0.8rem; color:var(--sub-text); text-align:center;'>ì‹œì„¸ ì¡°íšŒ ì¤‘...</div>";
        try {
            const res = await fetch(`/api/stock?symbols=${myStocks.join(',')}`);
            let data = [];
            if (res.ok) data = await res.json();
            const displayData = myStocks.map(symbol => {
                const found = data.find(item => item.symbol === symbol);
                return found ? found : { symbol: symbol, name: 'ë¡œë”© ì‹¤íŒ¨', price: 0, change: 0, percent: 0, valid: false };
            });
            container.innerHTML = displayData.map(stock => {
                const isUp = stock.change > 0;
                let priceDisplay = stock.price === 0 ? "<span style='color:red;'>ì¡°íšŒ ë¶ˆê°€</span>" : stock.price.toLocaleString() + "ì›";
                let percentDisplay = stock.price === 0 ? "-" : `${isUp ? '+' : ''}${stock.percent.toFixed(2)}%`;
                return `
                <div class="stock-item">
                    <div>
                        <div style="font-weight:bold; font-size:0.9rem;">${stock.name}</div>
                        <div style="font-size:0.7rem; color:var(--sub-text);">${stock.symbol}</div>
                    </div>
                    <div style="display:flex; align-items:center;">
                        <span class="${isUp ? 'up' : 'down'}" style="font-weight:bold; margin-right:8px;">${percentDisplay}</span>
                        <span class="btn-del" onclick="removeStock('${stock.symbol}')">âœ•</span>
                    </div>
                </div>`;
            }).join('');
        } catch(e) { container.innerHTML = "ì—ëŸ¬ ë°œìƒ"; }
    }

    async function addStock() {
        const input = document.getElementById('new-stock-code');
        let val = input.value.trim();
        if(!val) return alert("ì…ë ¥í•´ì£¼ì„¸ìš”.");
        if (STOCK_MAP[val]) val = STOCK_MAP[val];
        else if (STOCK_MAP[val.toUpperCase()]) val = STOCK_MAP[val.toUpperCase()];
        else val = val.toUpperCase();
        if(myStocks.includes(val)) return alert("ì´ë¯¸ ìˆìŠµë‹ˆë‹¤.");
        
        myStocks.push(val);
        localStorage.setItem('myStocks', JSON.stringify(myStocks));
        await fetchWatchlist();
        input.value = '';
    }

    function removeStock(symbol) {
        if(!confirm("ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;
        myStocks = myStocks.filter(s => s !== symbol);
        localStorage.setItem('myStocks', JSON.stringify(myStocks));
        fetchWatchlist();
    }

    function toggleNews(id) {
        const el = document.getElementById(id);
        const isHidden = el.style.display === 'none' || el.style.display === '';
        el.style.display = isHidden ? 'block' : 'none';
    }

    async function fetchNews() {
        const list = document.getElementById('news-list');
        try {
            const res = await fetch('/api/news');
            const data = await res.json();

            list.innerHTML = data.map((news, index) => {
                let color = "var(--sub-text)"; 
                let label = "ì¤‘ë¦½";
                let score = news.score || 50;
                
                if(news.sentiment.includes("í˜¸ì¬")) { color = "var(--blue)"; label = "í˜¸ì¬"; } // ì£¼ì‹ì—ì„  íŒŒë€ìƒ‰ì´ í˜¸ì¬ì¸ ê²½ìš°ë„ ìˆì§€ë§Œ ë³´í†µ ë¹¨ê°•=ìƒìŠ¹
                if(news.sentiment.includes("í˜¸ì¬")) { color = "var(--red)"; label = "í˜¸ì¬"; } // í•œêµ­: ë¹¨ê°•=ìƒìŠ¹
                else if(news.sentiment.includes("ì•…ì¬")) { color = "var(--blue)"; label = "ì•…ì¬"; }

                return `
                    <div class="news-item" onclick="toggleNews('reason-${index}')">
                        <div class="sentiment-bar">
                            <div class="sentiment-fill" style="width: ${score}%; background: ${color}; opacity: 0.3;"></div>
                        </div>
                        <div class="news-header">
                            <span class="badge" style="background:${color};">${label} ${score}ì </span>
                            <span style="font-size: 0.8rem; color: var(--sub-text);">${news.date}</span>
                        </div>
                        <div style="font-weight: bold; font-size: 1.05rem; margin-bottom: 5px;">${news.title}</div>
                        <div style="font-size: 0.9rem; color: var(--sub-text);">${news.description}</div>
                        
                        <div class="click-hint"><span>ğŸ” ë¶„ì„ ë³´ê¸°</span></div>
                        
                        <div id="reason-${index}" class="ai-reason" onclick="event.stopPropagation()">
                            <strong>ğŸ’¡ AI ë¶„ì„ ë¦¬í¬íŠ¸</strong>
                            <p style="margin: 5px 0 15px 0;">${news.reason || "ìƒì„¸ ë¶„ì„ ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤..."}</p>
                            <div style="text-align: right;">
                                <a href="${news.link}" target="_blank" class="view-more-btn">ğŸ“„ ê¸°ì‚¬ ì›ë¬¸ ë³´ëŸ¬ê°€ê¸°</a>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        } catch(e) { console.error(e); }
    }

    function switchTab(tabName) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        
        if(tabName === 'water') {
            document.querySelectorAll('.tab')[0].classList.add('active');
            document.getElementById('tab-water').classList.add('active');
        } else {
            document.querySelectorAll('.tab')[1].classList.add('active');
            document.getElementById('tab-happy').classList.add('active');
        }
    }

    function calculateWater() {
        const p1 = parseFloat(document.getElementById('p1').value) || 0;
        const q1 = parseFloat(document.getElementById('q1').value) || 0;
        const p2 = parseFloat(document.getElementById('p2').value) || 0;
        const q2 = parseFloat(document.getElementById('q2').value) || 0;
        if((p1*q1 + p2*q2) === 0) return;
        const total = (p1*q1 + p2*q2) / (q1+q2);
        document.getElementById('val-water-price').innerText = Math.round(total).toLocaleString();
        document.getElementById('val-water-qty').innerText = (q1+q2).toLocaleString();
        document.getElementById('res-water').style.display = 'block';
    }

    function setTargetPercent(percent) {
        const price = parseFloat(document.getElementById('h-price').value) || 0;
        if(price === 0) return alert("í‰ë‹¨ê°€ë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”!");
        const target = price * (1 + percent/100);
        document.getElementById('h-target').value = Math.round(target);
        calculateHappy();
    }

    function calculateHappy() {
        const price = parseFloat(document.getElementById('h-price').value) || 0;
        const qty = parseFloat(document.getElementById('h-qty').value) || 0;
        const target = parseFloat(document.getElementById('h-target').value) || 0;
        
        if(price === 0 || qty === 0 || target === 0) return;

        const totalBuy = price * qty;
        const totalSell = target * qty;
        const profit = totalSell - totalBuy;
        const percent = ((target - price) / price) * 100;

        const resDiv = document.getElementById('res-happy');
        const resPercent = document.getElementById('val-happy-percent');
        const resWon = document.getElementById('val-happy-won');

        resDiv.style.display = 'block';
        resPercent.innerText = (percent > 0 ? '+' : '') + percent.toFixed(2) + '%';
        resPercent.style.color = percent > 0 ? 'var(--red)' : 'var(--blue)';
        
        resWon.innerText = (profit > 0 ? '+' : '') + Math.round(profit).toLocaleString() + "ì›";
        resWon.style.color = profit > 0 ? 'var(--red)' : 'var(--blue)';
    }

    window.onload = function() {
        fetchIndices();
        fetchWatchlist();
        fetchNews();
    };
</script>
</body>
</html>
